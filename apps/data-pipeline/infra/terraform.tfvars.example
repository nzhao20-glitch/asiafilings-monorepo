# Copy to terraform.tfvars and customize

project_name = "filing-etl"
environment  = "dev"
aws_region   = "ap-east-1"

# S3 Buckets
# Source PDFs bucket (existing)
bucket_raw       = "pdfs-128638789653"
# Extraction output bucket (will be created if create_buckets=true)
bucket_processed = "filing-extractions-128638789653"
create_buckets   = false

# Batch Configuration
# Optional if stored in SSM: /platform/etl/<env>/ECR_IMAGE_URI
ecr_image_uri = "123456789012.dkr.ecr.ap-east-1.amazonaws.com/filing-etl:latest"
# Optional: dedicated OCR image (recommended to use immutable digest)
# Optional if stored in SSM: /platform/etl/<env>/OCR_ECR_IMAGE_URI
# ocr_ecr_image_uri = "123456789012.dkr.ecr.ap-east-1.amazonaws.com/filing-etl-ocr@sha256:..."
batch_vcpus   = 1
batch_memory  = 2048
chunk_size    = 1000
enable_inline_ocr = false
enable_ocr_queue  = true
ocr_page_chunk_size = 10

# OCR Worker autoscaling
ocr_worker_cpu                      = 1024
ocr_worker_memory                   = 4096
ocr_max_tasks                       = 24
ocr_messages_per_task               = 6
ocr_scale_out_cooldown_seconds      = 90
ocr_scale_in_cooldown_seconds       = 300
ocr_enable_container_insights       = true
ocr_enable_task_scale_in_protection = true
ocr_task_scale_in_protection_minutes = 30
ocr_queue_visibility_timeout_seconds = 1200
ocr_queue_receive_wait_seconds      = 20
ocr_dlq_max_receive_count           = 5
enable_ocr_alarms                   = true
ocr_queue_age_alarm_threshold_seconds = 900
ocr_dlq_alarm_threshold             = 0
ocr_alarm_sns_topic_arn             = ""

# Quickwit Configuration
quickwit_indexer_instance_types  = ["t4g.medium", "t4g.large"]
quickwit_searcher_instance_types = ["r7gd.xlarge", "m6gd.xlarge"]
quickwit_key_pair               = ""
quickwit_version                = "0.8.1"
# Optional if stored in SSM:
# - /platform/etl/<env>/RDS_PASSWORD
# - /platform/shared/RDS_PASSWORD
# rds_password = "change-me-to-a-strong-password"

# Network Configuration
vpc_id     = "vpc-xxxxxxxxx"
subnet_ids = ["subnet-xxxxxxxx", "subnet-yyyyyyyy"]

tags = {
  Team    = "data-engineering"
  Project = "filing-search"
}
