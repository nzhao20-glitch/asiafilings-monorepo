# .env.production.defaults
# Documents production environment variables — safe to commit.
# Most values are injected by Terraform (batch/main.tf) or per-job submission.
# Secrets are in AWS SSM at /platform/etl/prod/
# Run: ./tools/scripts/pull-secrets.sh --app etl --env prod

# AWS
AWS_REGION=ap-east-1

# ── Terraform-managed (batch/main.tf environment block) ──
# CHUNK_SIZE              = <Terraform: var.chunk_size>
# OUTPUT_BUCKET           = <Terraform: var.bucket_processed>
# OUTPUT_PREFIX           = processed
# ENABLE_INLINE_OCR       = <Terraform: var.enable_inline_ocr>
# ENABLE_OCR_QUEUE        = <Terraform: var.enable_ocr_queue>
# OCR_QUEUE_URL           = <Terraform: module.ocr_worker.ocr_queue_url>
# OCR_PAGE_CHUNK_SIZE     = <Terraform: var.ocr_page_chunk_size>
# LOG_LEVEL               = INFO
# ENABLE_JOB_TRACKING     = true
# DYNAMODB_JOBS_TABLE     = <Terraform: ${var.name_prefix}-jobs>
# DYNAMODB_ERRORS_TABLE   = <Terraform: ${var.name_prefix}-errors>
# ENABLE_DEDUP            = true
# DYNAMODB_DEDUP_TABLE    = <Terraform: ${var.name_prefix}-dedup>

# ── Per-job (set at submission time) ──
# MANIFEST_BUCKET   = <S3 bucket containing manifest CSV>
# MANIFEST_KEY      = <S3 key of manifest CSV>
# EXCHANGE          = <HKEX or DART>
# METADATA_BUCKET   = <optional: metadata JSON bucket>
# METADATA_KEY      = <optional: metadata JSON key>

# ── Optional CloudWatch metric config (gibberish pages) ──
# ENABLE_GIBBERISH_METRICS = true
# GIBBERISH_METRIC_NAMESPACE = AsiaFilings/DataPipeline
# GIBBERISH_METRIC_NAME = GibberishPagesDetected

# ── OCR Worker runtime (set on ECS task definition) ──
# OCR_OUTPUT_BUCKET           = <Terraform: var.bucket_processed>
# OCR_QUEUE_WAIT_SECONDS      = <Terraform: var.ocr_queue_receive_wait_seconds>
# OCR_QUEUE_VISIBILITY_TIMEOUT= <Terraform: var.ocr_queue_visibility_timeout_seconds>
# ECS_SCALE_IN_PROTECTION_ENABLED = <Terraform: var.ocr_enable_task_scale_in_protection>
# ECS_TASK_PROTECTION_MINUTES = <Terraform: var.ocr_task_scale_in_protection_minutes>
# ONNXTR_CACHE_DIR            = /app/.models_cache
# WARM_ONNXTR_ON_STARTUP      = true

# ── AWS Batch-managed ──
# AWS_BATCH_JOB_ID            = <set by AWS Batch>
# AWS_BATCH_JOB_ARRAY_INDEX   = <set by AWS Batch>
